unsigned int t [ 100 ] [ 100 ] ; unsigned int tri [ 100 ] ; unsigned int r [ 100 ] [ 100 ] ; int count ; int main ( ) { unsigned int a , b , c , d , e , max , f ; count = 1 ; scanf ( "%d" , & a ) ; for ( b = 1 ; b <= a ; b ++ ) { scanf ( "%d" , & c ) ; if ( ( c > 0 ) && ( c < 100 ) ) { for ( d = 1 ; d <= c ; d ++ ) { for ( e = 1 ; e <= d ; e ++ ) { scanf ( "%d" , & f ) ; if ( ( f > 0 ) && ( f < 99 ) ) { t [ d ] [ e ] = f ; r [ d ] [ e ] = f ; } } } for ( d = c ; d > 1 ; d -- ) { for ( e = 1 ; e <= d ; e ++ ) { max = r [ d ] [ e ] + t [ d - 1 ] [ e ] ; if ( ( max > r [ d - 1 ] [ e ] ) && ( e != d ) ) { r [ d - 1 ] [ e ] = max ; } max = r [ d ] [ e ] + t [ d - 1 ] [ e - 1 ] ; if ( ( max > r [ d - 1 ] [ e - 1 ] ) && ( e != 1 ) ) { r [ d - 1 ] [ e - 1 ] = max ; } } } tri [ count ] = r [ 1 ] [ 1 ] ; for ( d = 1 ; d <= c ; d ++ ) { for ( e = 1 ; e <= d ; e ++ ) { t [ d ] [ e ] = 0 ; r [ d ] [ e ] = 0 ; } } count ++ ; } } for ( b = 1 ; b <= a ; b ++ ) printf ( "%d\n" , tri [ b ] ) ; return 0 ; }