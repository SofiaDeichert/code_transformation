int main ( ) { int n , i , j , t ; scanf ( "%d" , & t ) ; while ( t -- ) { scanf ( "%d" , & n ) ; int current , previous ; long long int count = 0 , r = 1 ; scanf ( "%d" , & previous ) ; for ( i = 0 ; i < n - 1 ; i ++ ) { scanf ( "%d" , & current ) ; if ( current >= previous ) { r ++ ; } else { count = count + r * r + 1 / 2 ; r = 1 ; } previous = current ; } count = count + ( r * ( r + 1 ) ) / 2 ; printf ( "%d" , count ) ; } return 0 ; }