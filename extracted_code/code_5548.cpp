int a [ 1000 ] [ 1000 ] , mark [ 1000 ] [ 1000 ] , sum [ 1000 ] [ 1000 ] , row ; int max ( int a , int b ) { if ( a > b ) return a ; else return b ; } int calc ( int i , int j ) { if ( mark [ i ] [ j ] != - 1 ) { return sum [ i ] [ j ] ; } else if ( i + 1 >= row ) { sum [ i ] [ j ] = a [ i ] [ j ] ; mark [ i ] [ j ] = 0 ; return sum [ i ] [ j ] ; } else { sum [ i ] [ j ] = a [ i ] [ j ] + max ( calc ( i + 1 , j ) , calc ( i + 1 , j + 1 ) ) ; mark [ i ] [ j ] = 0 ; return sum [ i ] [ j ] ; } } int main ( ) { int cases , ans [ 1000 ] ; int i , j , k ; scanf ( "%d" , & cases ) ; for ( i = 0 ; i < cases ; i ++ ) { scanf ( "%d" , & row ) ; for ( j = 0 ; j < row ; j ++ ) { for ( k = 0 ; k <= j ; k ++ ) { scanf ( "%d" , & a [ j ] [ k ] ) ; } } for ( j = 0 ; j < row ; j ++ ) { for ( k = 0 ; k <= j ; k ++ ) { mark [ j ] [ k ] = - 1 ; } } ans [ i ] = calc ( 0 , 0 ) ; } for ( i = 0 ; i < cases ; i ++ ) { printf ( "%d\n" , ans [ i ] ) ; } return 0 ; }