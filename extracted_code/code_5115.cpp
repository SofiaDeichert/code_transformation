int main ( ) { long int i , j , n , sub , t , fact , k ; long int a [ 100001 ] ; scanf ( "%ld" , & t ) ; while ( t -- ) { sub = 0 ; fact = 1 ; scanf ( "%ld" , & n ) ; for ( i = 0 ; i < n ; i ++ ) scanf ( "%ld" , & a [ i ] ) ; i = 0 ; while ( i < n - 1 ) { j = i ; while ( j < n - 1 && a [ j ] <= a [ j + 1 ] ) j += 1 ; for ( k = 1 ; k <= ( j - i ) ; k ++ ) fact = fact * k ; sub = sub + fact ; i = j + 1 ; } sub += n ; printf ( "%ld\n" , sub ) ; } return 0 ; }