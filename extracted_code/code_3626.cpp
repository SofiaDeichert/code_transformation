int s [ 101 * 50 ] ; int tri_sum ( int arr [ ] , int k , int i , int j ) { int x1 , x2 ; if ( s [ i ] ) return s [ i ] ; if ( j == k ) return arr [ i ] ; else { x1 = arr [ i ] + tri_sum ( arr , k , i + j , j + 1 ) ; x2 = arr [ i ] + tri_sum ( arr , k , i + j + 1 , j + 1 ) ; if ( x1 > x2 ) s [ i ] = x1 ; else s [ i ] = x2 ; return s [ i ] ; } } int main ( ) { int k , t , arr [ 50 * 101 ] , i ; scanf ( "%d" , & t ) ; while ( t -- ) { scanf ( "%d" , & k ) ; for ( i = 0 ; i < ( k * ( k + 1 ) / 2 ) ; i ++ ) { scanf ( "%d" , & arr [ i ] ) ; s [ i ] = 0 ; } printf ( "%d\n" , tri_sum ( arr , k , 0 , 1 ) ) ; } return 0 ; }