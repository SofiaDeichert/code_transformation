int input [ 100 ] [ 100 ] ; int memory [ 100 ] [ 100 ] ; int main ( ) { int n , j , i , t , g , m = 0 ; scanf ( "%d" , & t ) ; int ans [ t ] ; g = t ; while ( t > 0 ) { scanf ( "%d" , & n ) ; for ( i = 0 ; i < n ; i ++ ) { for ( j = 0 ; j <= i ; j ++ ) scanf ( "%d" , & input [ i ] [ j ] ) ; } for ( i = 0 ; i < 100 ; i ++ ) { for ( j = 0 ; j < 100 ; j ++ ) memory [ i ] [ j ] = - 1 ; } ans [ m ] = solve ( 0 , 0 , n ) ; m ++ ; t -- ; } m = 0 ; while ( m < g ) { printf ( "%d\n" , ans [ m ] ) ; m ++ ; } return 0 ; } int solve ( int i , int j , int n ) { int t1 , t2 ; if ( i >= n ) return 0 ; if ( memory [ i ] [ j ] != - 1 ) return memory [ i ] [ j ] ; else { t1 = solve ( i + 1 , j , n ) ; t2 = solve ( i + 1 , j + 1 , n ) ; memory [ i ] [ j ] = input [ i ] [ j ] + max ( t1 , t2 ) ; return memory [ i ] [ j ] ; } } int max ( t1 , t2 ) { if ( t1 > t2 ) return t1 ; else return t2 ; }