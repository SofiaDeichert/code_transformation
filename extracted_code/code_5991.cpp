int maxi ( int a , int b ) { if ( a > b ) return a ; else return b ; } int func ( int , int ) ; int arr [ 100 ] [ 100 ] = { 0 } , record [ 100 ] [ 100 ] , row ; int main ( ) { int tc ; scanf ( "%d" , & tc ) ; while ( tc -- ) { int i , j ; scanf ( "%d" , & row ) ; for ( j = 0 ; j < row ; j ++ ) for ( i = 0 ; i <= j ; i ++ ) scanf ( "%d" , & arr [ j ] [ i ] ) ; for ( j = 0 ; j < 100 ; j ++ ) for ( i = 0 ; i < 100 ; i ++ ) record [ j ] [ i ] = - 1 ; printf ( "%d\n" , arr [ 0 ] [ 0 ] + maxi ( func ( 1 , 0 ) , func ( 1 , 1 ) ) ) ; } return 0 ; } int func ( int crow , int ccoloumn ) { if ( crow > row - 1 ) { return 0 ; } if ( record [ crow ] [ ccoloumn ] == - 1 ) { record [ crow ] [ ccoloumn ] = arr [ crow ] [ ccoloumn ] + maxi ( func ( crow + 1 , ccoloumn ) , func ( crow + 1 , ccoloumn + 1 ) ) ; } return record [ crow ] [ ccoloumn ] ; }