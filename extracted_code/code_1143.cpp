int a [ 5050 ] , n , l , i , j , k , upper , lower ; int main ( void ) { scanf ( "%d" , & n ) ; while ( n -- ) { scanf ( "%d" , & l ) ; for ( i = 0 ; i < l * ( l + 1 ) / 2 ; i ++ ) scanf ( "%d" , & a [ i ] ) ; for ( i = l * ( l - 1 ) / 2 - 1 ; i >= 0 ; i -- ) { lower = 0 ; for ( k = 0 ; k < l ; k ++ ) { lower += k ; upper = lower + k ; if ( i >= lower && i <= upper ) { j = k + 1 ; break ; } } a [ i ] += max ( a [ i + j ] , a [ i + j + 1 ] ) ; } printf ( "%d" , a [ 0 ] ) ; } return 0 ; }