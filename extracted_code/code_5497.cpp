int max_sum ( int * , int , int , int ) ; int max ( int , int ) ; int main ( ) { int tests , i , lines , j = 0 ; scanf ( "%d" , & tests ) ; int * output = ( int * ) malloc ( sizeof ( int ) * tests ) ; for ( i = 0 ; i < tests ; i ++ ) { scanf ( "%d" , & lines ) ; int size = ( lines * ( lines + 1 ) ) / 2 ; int * nos = ( int * ) malloc ( sizeof ( int ) * size ) ; while ( j < size ) scanf ( "%d" , & nos [ j ++ ] ) ; j = 0 ; output [ i ] = max_sum ( nos , lines , 0 , 0 ) ; free ( nos ) ; } for ( i = 0 ; i < tests ; i ++ ) printf ( "%d\n" , output [ i ] ) ; free ( output ) ; return 0 ; } int max_sum ( int * nos , int lines , int line_no , int index ) { if ( line_no == lines ) return 0 ; if ( index > line_no ) return 0 ; return nos [ ( line_no * ( line_no + 1 ) ) / 2 + index ] + max ( max_sum ( nos , lines , line_no + 1 , index ) , max_sum ( nos , lines , line_no + 1 , index + 1 ) ) ; } int max ( int a , int b ) { return a > b ? a : b ; }