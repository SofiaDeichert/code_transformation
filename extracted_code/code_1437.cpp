int main ( void ) { int n , i , j , k , t , count , ans ; int a [ 100000 ] ; scanf ( "%d" , & t ) ; while ( t -- ) { count = 0 ; scanf ( "%d" , & n ) ; for ( i = 0 ; i < n ; i ++ ) { scanf ( "%d" , & a [ i ] ) ; } count = 0 ; for ( i = 0 ; i < n - 1 ; i ++ ) { count ++ ; if ( a [ i ] == a [ i + 1 ] ) { count = count - 1 ; } } if ( count == 0 ) { ans = 1 ; } else ans = count * ( count + 1 ) / 2 ; printf ( "%d\n" , ans ) ; } return 0 ; }