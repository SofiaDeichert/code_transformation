void main ( ) { long int count , i , k , j , N , l , a [ 100000 ] ; int T ; scanf ( "%d" , & T ) ; while ( T -- ) { k = 0 ; scanf ( "%li" , & N ) ; for ( i = 0 ; i < N ; i ++ ) { scanf ( "%li" , & a [ i ] ) ; } count = N ; for ( j = 0 ; j < N - 1 ; j ++ ) { if ( a [ j ] <= a [ j + 1 ] ) { k ++ ; if ( j == ( N - 2 ) ) { count += k * ( k + 1 ) / 2 ; k = 0 ; } } else { if ( k == 1 ) count ++ ; else count += k * ( k + 1 ) / 2 ; k = 0 ; } } printf ( "%li\n" , count ) ; } }