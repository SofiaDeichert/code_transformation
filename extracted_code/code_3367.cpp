int main ( ) { int j , k , b , sum = 0 , t , N , i , p , a [ max ] ; scanf ( "%d" , & t ) ; if ( t >= 1 && t <= 10 ) { for ( i = 0 ; i < t ; i ++ ) { sum = 0 ; scanf ( "%d" , & N ) ; if ( N >= 2 && N <= 50000 ) { for ( j = 0 ; j < N ; j ++ ) { scanf ( "%d" , & p ) ; if ( p >= 1 && p <= pow ( 10 , 5 ) ) { a [ j ] = p ; } } if ( a [ 1 ] < a [ 0 ] ) { b = a [ 1 ] ; sum = sum + b ; } else if ( a [ 0 ] < a [ 1 ] ) { b = a [ 0 ] ; sum = sum + b ; } for ( k = 2 ; k < N ; k ++ ) { if ( b < a [ k ] ) { sum = sum + b ; b = b ; } else if ( a [ k ] < b ) { b = a [ k ] ; sum = sum + b ; } } printf ( "%d" , sum ) ; } } } return 0 ; }