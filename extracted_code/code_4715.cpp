int max ( int * a , int i , int k ) { int j , l ; if ( a [ 0 ] == 1 ) return a [ 1 ] ; else if ( k < a [ 0 ] ) { j = ( j = max ( a , i + k , k + 1 ) ) > ( l = max ( a , i + k + 1 , k + 1 ) ) ? j : l ; return j + a [ i ] ; } else return 0 ; } int main ( ) { int a [ 4000 ] , b [ 1000 ] , i , t , j = 0 ; scanf ( "%d" , & t ) ; while ( t > 0 ) { t -- ; scanf ( "%d" , & a [ 0 ] ) ; a [ 0 ] = a [ 0 ] * ( a [ 0 ] + 1 ) / 2 ; for ( i = 1 ; i <= a [ 0 ] ; i ++ ) scanf ( "%d" , & a [ i ] ) ; b [ j ] = max ( a , 1 , 1 ) ; j ++ ; } for ( i = 0 ; i < j ; i ++ ) printf ( "%d\n" , b [ i ] ) ; return 0 ; }