int f ( int * , int , int , int , int ) ; main ( ) { int test , a [ 100 ] [ 100 ] , b , c , d , i , e , g , h ; scanf ( "%d" , & test ) ; for ( i = 1 ; i <= test ; i ++ ) { scanf ( "%d" , & b ) ; for ( c = 0 ; c < b ; c ++ ) { for ( d = 0 ; d <= c ; d ++ ) { scanf ( "%d" , & a [ c ] [ d ] ) ; } } g = a [ 0 ] [ 0 ] ; h = 0 ; e = f ( & a [ 0 ] [ 0 ] , g , h , h , b ) ; printf ( "%d\n" , e ) ; } return 0 ; } int f ( int * a , int b , int c , int d , int k ) { int lsum , rsum , g ; lsum = b ; rsum = b ; if ( ( c + 1 ) < k ) { a = a + 100 ; lsum = lsum + * ( a + d ) ; g = c + 1 ; c = c + 1 ; lsum = f ( a , lsum , g , d , k ) ; rsum = rsum + * ( a + d + 1 ) ; rsum = f ( a , rsum , c , d + 1 , k ) ; } if ( rsum > lsum ) return rsum ; else if ( lsum >= rsum ) return lsum ; }