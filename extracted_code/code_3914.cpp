long long A [ 1000006 ] ; long long dp [ 1000006 ] ; int main ( ) { long long int i , j , k ; long long int t , n ; scanf ( " %lld" , & t ) ; while ( t -- ) { scanf ( " %lld" , & n ) ; for ( int i = 1 ; i <= n ; i ++ ) { scanf ( " %lld" , & A [ i ] ) ; dp [ i ] = 1 ; } long long int sum = 0 ; for ( int i = n - 1 ; i > 0 ; i -- ) { if ( A [ i ] <= A [ i + 1 ] ) dp [ i ] = dp [ i + 1 ] + 1 ; } for ( int i = 1 ; i <= n ; i ++ ) sum = sum + dp [ i ] ; printf ( "%lld\n" , sum ) ; } return 0 ; }