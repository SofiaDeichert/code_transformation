char buffer [ 65535 ] , * buffer_cursor , * buffer_end ; int number [ 99 * 100 ] ; static unsigned long long int a [ 101 ] , b [ 101 ] , * cur , * old ; int c ; void puti ( unsigned long long int n ) { char temp [ 50 ] ; int i = 49 , j ; while ( n > 0 ) { temp [ i -- ] = n + '0' ; n /= 10 ; } j = i + 1 ; while ( j < 50 ) { putchar ( temp [ j ++ ] ) ; } } int main ( ) { static int i , t , n , i_f , j_f ; int x , j = 0 , k ; unsigned long long int mx = 0 ; c = fread ( buffer , 1 , 65535 , stdin ) ; buffer_cursor = buffer ; buffer_end = buffer + c ; do { if ( buffer_cursor == buffer_end ) { c = fread ( buffer , 1 , 65535 , stdin ) ; buffer_cursor = buffer ; buffer_end = buffer + c ; } if ( ( * buffer_cursor ++ ) < '0' ) break ; t = t * 10 + buffer_cursor [ - 1 ] - '0' ; } while ( 1 ) ; for ( i_f = 0 ; i_f < t ; i_f ++ ) { do { if ( buffer_cursor == buffer_end ) { c = fread ( buffer , 1 , 65535 , stdin ) ; buffer_cursor = buffer ; buffer_end = buffer + c ; } if ( ( * buffer_cursor ++ ) < '0' ) break ; n = n * 10 + buffer_cursor [ - 1 ] - '0' ; } while ( 1 ) ; x = n * ( n + 1 ) / 2 ; for ( k = 0 ; k < x ; k ++ ) number [ k ] = 0 ; for ( i = 0 ; i < x ; i ++ ) { do { if ( buffer_cursor == buffer_end ) { c = fread ( buffer , 1 , 65535 , stdin ) ; buffer_cursor = buffer ; buffer_end = buffer + c ; } if ( * ( buffer_cursor ++ ) < '0' ) break ; number [ i ] = number [ i ] * 10 + buffer_cursor [ - 1 ] - '0' ; } while ( 1 ) ; } for ( k = 0 ; k < ( n + 1 ) ; k ++ ) { a [ k ] = b [ k ] = 0 ; } cur = a ; old = b ; j_f = 0 ; a [ 0 ] = 0 ; for ( i = 0 ; i < n ; i ++ ) { cur [ 0 ] = number [ j_f ++ ] + old [ 0 ] ; j = 1 ; while ( j < i ) { cur [ j ] = number [ j_f ++ ] + max ( old [ j - 1 ] , old [ j ] ) ; j ++ ; } if ( i ) cur [ j ] = number [ j_f ++ ] + old [ j - 1 ] ; if ( cur == b ) { cur = a ; old = b ; } else { cur = b ; old = a ; } } mx = 0 ; for ( i = 0 ; i < n ; i ++ ) mx = max ( mx , old [ i ] ) ; puti ( mx ) ; if ( ( i_f + 1 ) < t ) putchar ( '\n' ) ; n = 0 ; } return 0 ; }