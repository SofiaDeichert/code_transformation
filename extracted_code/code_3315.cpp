int main ( ) { int buff [ 5100 ] , t_case , n_row , i , j , r_index , pr_base , ans ; scanf ( "%d" , & t_case ) ; while ( t_case -- ) { r_index = 0 ; pr_base = 1 ; scanf ( "%d" , & n_row ) ; for ( i = 1 ; i <= n_row ; i ++ ) { for ( j = 1 ; j <= i ; j ++ ) { r_index ++ ; scanf ( "%d" , & buff [ r_index ] ) ; if ( i == 1 ) { } else if ( j == 1 ) { buff [ r_index ] = buff [ r_index ] + buff [ pr_base ] ; } else if ( j == i ) { buff [ r_index ] = buff [ r_index ] + buff [ pr_base + j - 2 ] ; pr_base = pr_base + j - 1 ; } else { if ( buff [ pr_base + j - 2 ] >= buff [ pr_base + j - 1 ] ) { buff [ r_index ] = buff [ pr_base + j - 2 ] + buff [ r_index ] ; } else { buff [ r_index ] = buff [ r_index ] + buff [ pr_base + j - 1 ] ; } } } } i = n_row - 1 ; ans = buff [ r_index ] ; while ( i -- ) { if ( ans < buff [ r_index - 1 ] ) { ans = buff [ r_index - 1 ] ; } r_index -- ; } printf ( "%d\n" , ans ) ; } return 0 ; }