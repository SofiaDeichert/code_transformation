main ( ) { int no , count = 0 , pos , pos2 , * results , * arr = ( int ) malloc ( 2 ) ; short int i , j , rows ; scanf ( "%d" , & no ) ; results = ( int ) malloc ( 2 * no ) ; while ( no ) { scanf ( "%d" , & rows ) ; realloc ( arr , ( rows * ( rows + 1 ) ) ) ; for ( i = 0 ; i < rows ; ++ i ) { pos = ( i * ( i + 1 ) ) >> 1 ; for ( j = 0 ; j <= i ; ++ j , ++ pos ) scanf ( "%d" , & arr [ pos ] ) ; } for ( i = rows - 1 ; i >= 0 ; -- i ) { pos = ( i * ( i + 1 ) ) >> 1 ; pos2 = pos - i ; for ( j = 0 ; j < i ; ++ j , ++ pos , ++ pos2 ) arr [ pos2 ] += arr [ pos ] > arr [ pos + 1 ] ? arr [ pos ] : arr [ pos + 1 ] ; } results [ count ++ ] = * arr ; -- no ; } for ( i = 0 ; i < count ; ++ i ) printf ( "%d\n" , results [ i ] ) ; }