int main ( void ) { int numberOfCases , i , numberOfLines , rowNumber , colNumber , maxSum = 0 , tempSum = 0 , tempCol ; scanf ( "%d" , & numberOfCases ) ; for ( i = 1 ; i <= numberOfCases ; i ++ ) { scanf ( "%d" , & numberOfLines ) ; int values [ numberOfLines ] [ numberOfLines ] ; for ( rowNumber = 0 ; rowNumber < numberOfLines ; rowNumber ++ ) { for ( colNumber = 0 ; colNumber <= rowNumber ; colNumber ++ ) { scanf ( "%d" , & values [ rowNumber ] [ colNumber ] ) ; } } for ( colNumber = 0 ; colNumber < numberOfLines ; colNumber ++ ) { tempSum = 0 ; for ( rowNumber = colNumber ; rowNumber < numberOfLines ; rowNumber ++ ) { tempSum += values [ rowNumber ] [ colNumber ] ; } if ( tempSum > maxSum ) { maxSum = tempSum ; } } for ( colNumber = 0 ; colNumber < numberOfLines ; colNumber ++ ) { tempCol = colNumber ; tempSum = 0 ; for ( rowNumber = colNumber ; rowNumber < numberOfLines ; rowNumber ++ , tempCol ++ ) { tempSum += values [ rowNumber ] [ tempCol ] ; } if ( tempSum > maxSum ) { maxSum = tempSum ; } } printf ( "%d\n" , maxSum ) ; } return 0 ; }