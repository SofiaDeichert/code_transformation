int main ( ) { int T , N , i , temp1 , temp2 , j , max ; scanf ( "%d" , & T ) ; while ( T ) { scanf ( "%d" , & N ) ; int A [ N + 1 ] [ N + 1 ] , S [ N + 1 ] [ N + 1 ] ; for ( i = 1 , max = 0 ; i <= N ; i ++ ) { for ( j = 1 ; j <= i ; j ++ ) { scanf ( "%d" , & A [ i ] [ j ] ) ; } if ( i == 1 ) { S [ i ] [ 1 ] = A [ i ] [ 1 ] ; if ( S [ i ] [ 1 ] > max ) max = S [ i ] [ 1 ] ; } else { for ( j = 1 ; j <= i ; j ++ ) { if ( j == 1 ) { S [ i ] [ j ] = S [ i - 1 ] [ j ] + A [ i ] [ j ] ; } else if ( j == i ) { S [ i ] [ j ] = S [ i - 1 ] [ j - 1 ] + A [ i ] [ j ] ; } else { temp1 = S [ i - 1 ] [ j ] + A [ i ] [ j ] ; temp2 = S [ i - 1 ] [ j - 1 ] + A [ i ] [ j ] ; if ( temp1 > temp2 ) S [ i ] [ j ] = temp1 ; else S [ i ] [ j ] = temp2 ; } if ( S [ i ] [ j ] > max ) max = S [ i ] [ j ] ; } } } printf ( "%d\n" , max ) ; T -- ; } return 0 ; }