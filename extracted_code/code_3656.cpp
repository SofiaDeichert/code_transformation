short int a [ 200 ] ; int main ( ) { short int n ; char b , i ; long s ; scanf ( "%d" , & n ) ; while ( n != 0 ) { scanf ( "%d" , & b ) ; while ( b -- ) { if ( b > 0 ) { scanf ( "%d" , & a [ i ] ) ; i ++ ; } else { fflush ( stdin ) ; a [ i ] = - 2 ; scanf ( "%d%d" , & a [ i + 1 ] , & a [ i + 2 ] ) ; } } a [ i + 3 ] = - 1 ; i = 0 , s = 0 ; while ( a [ i ] != - 1 ) { if ( a [ i ] != - 2 ) s = s + a [ i ] ; else { if ( a [ i + 1 ] > a [ i + 2 ] ) s = s + a [ i + 1 ] ; else s = s + a [ i + 2 ] ; i += 2 ; } i ++ ; } printf ( "%ld" , s ) ; n -- ; } return 0 ; }