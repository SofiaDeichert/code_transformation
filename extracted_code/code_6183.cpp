int main ( ) { int k = 0 , t = 0 , j = 0 , line = 0 , tot = 0 , s1 = 0 , s2 = 0 , s = sizeof ( int ) , count = 0 , n = 0 , i = 0 , * a = NULL , * max = NULL ; scanf ( "%d" , & t ) ; while ( ++ j <= t ) { scanf ( "%d" , & n ) ; tot = ( n * ( n + 1 ) ) / 2 ; a = ( int * ) malloc ( s * tot ) ; max = ( int * ) malloc ( s * tot ) ; if ( max == NULL || a == NULL ) { printf ( "Error" ) ; exit ( - 1 ) ; } for ( i = 0 ; i < tot ; i ++ ) { scanf ( "%d" , & a [ i ] ) ; } i = tot - 1 ; line = n ; for ( ; i >= 0 ; i -- ) { if ( line == n ) { max [ i ] = a [ i ] ; } else { s1 = a [ i ] + max [ i + line ] ; s2 = a [ i ] + max [ i + 1 + line ] ; if ( s1 >= s2 ) { max [ i ] = s1 ; } else max [ i ] = s2 ; } count ++ ; if ( count == line ) { count = 0 ; line -- ; } free ( a ) ; free ( max ) ; count = 0 ; } for ( k = 0 ; k < tot ; k ++ ) printf ( "\n\nk:%d     %d\n\n" , k , a [ k ] ) ; printf ( "Max array\n" ) ; for ( k = 0 ; k < tot ; k ++ ) printf ( "\n\nk:%d %d\n\n" , k , max [ k ] ) ; } return 1 ; }