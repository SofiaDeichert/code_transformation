long long int A [ 100100 ] , B [ 100100 ] ; int main ( ) { long long int i , j , t , n , k , d , z , s , o , x ; scanf ( "%lld" , & t ) ; for ( i = 0 ; i < t ; i ++ ) { scanf ( "%lld" , & n ) ; z = 2 ; o = 0 ; s = 0 ; for ( j = 0 ; j < n ; j ++ ) scanf ( "%lld" , & A [ j ] ) ; for ( j = 0 ; j < ( n - 1 ) ; j ++ ) { if ( A [ j + 1 ] >= A [ j ] ) { o = o + 1 ; for ( k = j + 1 ; k < ( n - 1 ) ; k ++ ) { if ( A [ k + 1 ] >= A [ k ] ) z = z + 1 ; else break ; } B [ j ] = z ; } else B [ j ] = 1 ; if ( o == 1 ) { x = z ; for ( k = j ; k <= ( j + x - 1 ) ; k ++ ) { B [ k ] = z ; z = z - 1 ; } } if ( o == 1 ) j = k - 1 ; z = 2 ; o = 0 ; } B [ n - 1 ] = 1 ; for ( j = 0 ; j < n ; j ++ ) s = s + B [ j ] ; printf ( "%lld\n" , s ) ; for ( j = 0 ; j < n ; j ++ ) A [ j ] = B [ j ] = 0 ; } return 0 ; }