int main ( ) { long long int t , n , a [ 105 ] , b [ 105 ] , large ; long long int temp , temp1 , i , j ; long long int temp2 ; scanf ( "%lld" , & t ) ; while ( t > 0 ) { scanf ( "%lld" , & n ) ; for ( i = 1 ; i <= n ; i ++ ) { for ( j = 0 ; j < i ; j ++ ) { scanf ( "%lld" , & a [ j ] ) ; } temp = 0 ; temp1 = 0 ; for ( j = 0 ; j < i ; j ++ ) { if ( i == 1 ) { b [ j ] = a [ j ] ; temp1 = a [ j ] ; } else { temp = temp1 ; if ( j == 0 ) { temp1 = b [ j ] ; b [ j ] = b [ j ] + a [ j ] ; } else if ( j != i - 1 ) { if ( a [ j ] + b [ j ] > temp1 + a [ j ] ) { b [ j ] = a [ j ] + b [ j ] ; temp1 = b [ j ] - a [ j ] ; } else { b [ j ] = temp1 + a [ j ] ; temp1 = b [ j ] - temp1 ; } } else b [ j ] = a [ j ] + temp1 ; } } } large = b [ 0 ] ; for ( i = 1 ; i < n ; i ++ ) { if ( large < b [ i ] ) large = b [ i ] ; } printf ( "%lld\n" , large ) ; t -- ; } ; }