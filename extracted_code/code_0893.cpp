long int max ( long int , long int ) ; int main ( ) { long int val [ 100 ] , calc [ 100 ] = { 0 } , i , j , k , sum , n , size ; scanf ( "%ld" , & n ) ; for ( i = 0 ; i < n ; i ++ ) { scanf ( "%ld" , & size ) ; for ( j = 0 ; j < 100 ; j ++ ) calc [ j ] = 0 ; for ( j = 0 ; j < size ; j ++ ) { for ( k = 0 ; k <= j ; k ++ ) { scanf ( "%ld" , & val [ k ] ) ; } for ( k = j ; k >= 0 ; k -- ) { if ( k == 0 ) calc [ k ] = val [ k ] + calc [ k ] ; else if ( k == j ) calc [ k ] = val [ k ] + calc [ k - 1 ] ; else calc [ k ] = val [ k ] + max ( calc [ k ] , calc [ k - 1 ] ) ; } } sum = calc [ 0 ] ; for ( k = 0 ; k < size ; k ++ ) { if ( calc [ k ] > sum ) sum = calc [ k ] ; } printf ( "%ld\n" , sum ) ; } return 0 ; } long int max ( long int a , long int b ) { if ( a > b ) return a ; else return b ; }