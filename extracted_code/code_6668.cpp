long trisum ( int h , int line ) ; int a [ 99 ] ; int l ; int main ( ) { int t ; scanf ( "%i" , & t ) ; while ( t > 0 ) { scanf ( "%i" , & l ) ; int i , j ; for ( i = 0 ; i < l ; i ++ ) { for ( j = 0 ; j < i + 1 ; j ++ ) scanf ( "%i" , a + j ) ; } int sum = trisum ( 0 , 1 ) ; printf ( "%i\n" , sum ) ; t -- ; } return 0 ; } long trisum ( int h , int line ) { if ( line == l - 1 ) { if ( a [ h + l - 1 ] > a [ h + l ] ) return a [ h + l - 1 ] + a [ h ] ; else return a [ h ] + a [ l + h ] ; } else { if ( trisum ( h + line , line + 1 ) > trisum ( h + line + 1 , line + 1 ) ) return a [ h ] + trisum ( h + line , line + 1 ) ; else return a [ h ] + trisum ( h + line + 1 , line + 1 ) ; } }