int max ( int a , int b ) { if ( a > b ) { return ( a ) ; } else return ( b ) ; } int value ( int i , int j , int k , int mat [ 100 ] [ 100 ] , int value1 [ 100 ] [ 100 ] ) { int v ; if ( i > k ) { return 0 ; } else if ( value1 [ i ] [ j ] ) { return value1 [ i ] [ j ] ; } else { value1 [ i ] [ j ] = max ( value ( i + 1 , j , k , mat , value1 ) , value ( i + 1 , j + 1 , k , mat , value1 ) ) ; v = mat [ i ] [ j ] + value1 [ i ] [ j ] ; return ( v ) ; } } int main ( ) { int i , j , k , x , m , v [ 100 ] , p = 0 ; scanf ( "%d" , & x ) ; int mat [ 100 ] [ 100 ] ; int value1 [ 100 ] [ 100 ] ; for ( i = 0 ; i < 100 ; i ++ ) { for ( j = 0 ; j < 100 ; j ++ ) { value1 [ i ] [ j ] = 0 ; } } while ( x ) { for ( i = 0 ; i < 100 ; i ++ ) { for ( j = 0 ; j < 100 ; j ++ ) { value1 [ i ] [ j ] = 0 ; } } scanf ( "%d" , & k ) ; for ( i = 0 ; i < k ; i ++ ) { for ( j = 0 ; j <= i ; j ++ ) { scanf ( "%d" , & m ) ; if ( m < 0 || m > 99 ) { scanf ( "%d" , & m ) ; } mat [ i ] [ j ] = m ; } } v [ p ++ ] = value ( 0 , 0 , k , mat , value1 ) ; x -- ; } for ( i = 0 ; i < p ; i ++ ) { printf ( "%d\n" , v [ i ] ) ; } return 0 ; }