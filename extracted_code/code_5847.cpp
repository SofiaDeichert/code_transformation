int main ( ) { int i , j ; int r , k , iter , no , t , n , l ; scanf ( "%d" , & t ) ; int maxsum , c ; int sum [ 1000 ] [ 1000 ] ; for ( k = 0 ; k < t ; k ++ ) { c = 0 ; char c1 ; maxsum = 0 ; scanf ( "%d" , & n ) ; iter = ( n * ( n + 1 ) ) / 2 ; i = j = r = c = 0 ; scanf ( "%d" , & no ) ; sum [ r ] [ c ] = maxsum = no ; i ++ ; j = 0 ; r ++ ; c = 0 ; for ( l = 1 ; l < iter ; l ++ ) { scanf ( "%d" , & no ) ; c1 = getchar ( ) ; if ( j == 0 ) { sum [ r ] [ c ] = sum [ r - 1 ] [ 0 ] + no ; if ( sum [ r ] [ c ] > maxsum ) maxsum = sum [ r ] [ c ] ; c ++ ; } else if ( i == j ) { if ( i == 1 ) sum [ r ] [ c ] = sum [ 0 ] [ 0 ] + no ; else sum [ r ] [ c ] = sum [ r - 1 ] [ c - 2 ] + no ; if ( sum [ r ] [ c ] > maxsum ) maxsum = sum [ r ] [ c ] ; c ++ ; } else { sum [ r ] [ c ] = sum [ r - 1 ] [ c - 1 ] + no ; if ( sum [ r ] [ c ] > maxsum ) maxsum = sum [ r ] [ c ] ; c ++ ; sum [ r ] [ c ] = sum [ r - 1 ] [ c - 1 ] + no ; if ( sum [ r ] [ c ] > maxsum ) maxsum = sum [ r ] [ c ] ; c ++ ; } j ++ ; if ( c1 == '\n' ) { j = 0 ; i ++ ; c = 0 ; r ++ ; } } printf ( "%d\n" , maxsum ) ; } return 0 ; }