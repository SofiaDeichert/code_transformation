int main ( void ) { short int i , j , k , l , row , repeat_factor = 2 , arr [ 100 ] [ 100 ] ; int rowsum [ 200 ] , largestsum ; int N ; scanf ( "%d" , & N ) ; for ( i = 0 ; i < N ; i ++ ) { largestsum = 0 ; scanf ( "%hd" , & row ) ; for ( j = 0 ; j < row ; j ++ ) { rowsum [ 2 * j ] = rowsum [ 2 * j + 1 ] = 0 ; for ( k = 0 ; k <= j ; k ++ ) scanf ( "%hd" , & arr [ j ] [ k ] ) ; } repeat_factor = 2 ; for ( j = row - 1 ; j >= 0 ; j -- ) { for ( l = j ; l >= 0 ; l -- ) { for ( k = repeat_factor - 1 ; k >= 0 ; k -- ) { rowsum [ repeat_factor * l + k ] += arr [ j ] [ l ] ; } } repeat_factor *= 2 ; } largestsum = rowsum [ 0 ] ; for ( l = 1 ; rowsum [ l ] != 0 ; l ++ ) largestsum = ( largestsum > rowsum [ l ] ) ? largestsum : rowsum [ l ] ; printf ( "%d" , largestsum ) ; } return 0 ; }