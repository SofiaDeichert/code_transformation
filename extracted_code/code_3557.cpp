struct info { int id ; int age ; char name [ 20 ] ; struct info * next ; } * temp , * temp1 , * temp2 ; typedef struct info info ; void print ( info * , int ) ; int main ( void ) { int i , m , n , del , z ; info * head [ 10 ] ; scanf ( "%d" , & z ) ; for ( i = 0 ; i < 10 ; i ++ ) { head [ i ] = NULL ; } for ( i = 0 ; i < z ; i ++ ) { int v1 , v3 ; char v2 [ 20 ] ; scanf ( "%d%s%d" , & v1 , v2 , & v3 ) ; info * p = malloc ( sizeof ( info ) ) ; p -> id = v1 ; strcpy ( p -> name , v2 ) ; p -> age = v3 ; m = v1 ; p -> next = head [ m ] ; head [ m ] = p ; } scanf ( "%d" , & n ) ; scanf ( "%d" , & del ) ; printf ( "+-----+\n" ) ; for ( i = 0 ; i < 10 ; i ++ ) { print ( head [ i ] , i ) ; } printf ( "\n" ) ; int search ; search = n ; printf ( "+-----+\n" ) ; print ( head [ search ] , search ) ; printf ( "\n" ) ; int buck , k = 0 ; buck = del ; temp2 = temp1 = head [ buck ] ; while ( temp2 -> id != del ) { temp2 = temp2 -> next ; k ++ ; } int u = k ; u -- ; while ( u > 0 ) { temp1 = temp1 -> next ; u -- ; } if ( k == 0 ) head [ buck ] = head [ buck ] -> next ; else if ( temp2 -> next == NULL ) temp1 -> next = NULL ; else temp1 -> next = temp2 -> next ; printf ( "+-----+\n" ) ; print ( head [ buck ] , buck ) ; return 0 ; } void print ( info * temp , int i ) { if ( temp == NULL ) { printf ( "|  %d  | \n+-----+\n" , i ) ; return ; } printf ( "|  %d  | " , i ) ; while ( temp != NULL ) { printf ( " ---> " ) ; printf ( "| %d | %s | %d |" , temp -> id , temp -> name , temp -> age ) ; temp = temp -> next ; } printf ( "---> X\n" ) ; printf ( "+-----+\n" ) ; }