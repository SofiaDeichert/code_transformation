int main ( ) { int size , num , i , j , max ; int * data , * inp ; scanf ( "%d" , & size ) ; for ( size ; size > 0 ; size -- ) { scanf ( "%d" , & num ) ; data = ( int * ) malloc ( sizeof ( int ) * num ) ; inp = ( int * ) malloc ( sizeof ( int ) * num ) ; for ( i = 0 ; i < num ; i ++ ) data [ i ] = 0 ; for ( i = 1 ; i <= num ; i ++ ) { for ( j = 0 ; j < i ; j ++ ) scanf ( "%d" , & inp [ j ] ) ; if ( i > 1 ) { data [ i - 1 ] = data [ i - 2 ] + inp [ i - 1 ] ; } for ( j = i - 2 ; j >= 1 ; j -- ) { data [ j ] = data [ j ] > data [ j - 1 ] ? data [ j ] + inp [ j ] : data [ j - 1 ] + inp [ j ] ; } data [ 0 ] += inp [ 0 ] ; } max = data [ 0 ] ; for ( i = 1 ; i < num ; i ++ ) if ( max < data [ i ] ) max = data [ i ] ; printf ( "%d\n" , max ) ; free ( inp ) ; free ( data ) ; } return 0 ; }