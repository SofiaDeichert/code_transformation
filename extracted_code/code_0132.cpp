int sum ( int * p , int maxrow , int rownum , int col , int sum ) ; main ( ) { int testcases , i ; scanf ( "%d" , & testcases ) ; for ( i = 0 ; i < testcases ; i ++ ) { int maxrow , * p , j ; scanf ( "%d" , & maxrow ) ; int size = ( maxrow * ( maxrow + 1 ) ) / 2 ; p = ( int * ) malloc ( size * sizeof ( int ) ) ; for ( j = 0 ; j < size ; j ++ ) { scanf ( "%d" , p + j ) ; } printf ( "%d\n" , sum ( p , maxrow , 0 , 0 , 0 ) ) ; } } int sum ( int * p , int maxrow , int rownum , int col , int sum1 ) { if ( rownum < maxrow ) { int max , i , endindex , sindex = sum ; endindex = sindex + rownum ; max = 0 ; for ( i = col ; i <= endindex ; i ++ ) { int k = sum ( p , maxrow , rownum + 1 , i , sum1 + rownum + 1 ) ; if ( k > max ) { max = k + p [ i ] ; } } return max ; } else { return 0 ; } }