int main ( ) { int t ; scanf ( "%d" , & t ) ; int b [ t ] ; int row ; int n ; int x , y ; int i , j , k ; for ( i = 0 ; i < t ; i ++ ) { scanf ( "%d" , & row ) ; n = ( row * ( row + 1 ) ) / 2 ; int a [ n ] ; for ( j = 0 ; j < n ; j ++ ) { scanf ( "%d" , & a [ j ] ) ; } for ( j = row - 1 ; j > 0 ; j -- ) { for ( k = 0 ; k < j ; k ++ ) { x = a [ ( j * j + j + 2 * k ) / 2 ] + a [ ( j * j - j + 2 * k ) / 2 ] ; y = a [ ( j * j + j + 2 + 2 * k ) / 2 ] + a [ ( j * j - j + 2 * k ) / 2 ] ; if ( x > y ) { a [ ( j * j - j + 2 * k ) / 2 ] = x ; } else { a [ ( j * j - j + 2 * k ) / 2 ] = y ; } } } b [ i ] = a [ 0 ] ; } for ( i = 0 ; i < t ; i ++ ) { printf ( "%d\n" , b [ i ] ) ; } return 0 ; }