int main ( ) { int n , * p , x , l , * * m , row , col , sum = 0 , max = - 1 , temp ; scanf ( "%d" , & n ) ; for ( x = 1 ; x <= n ; x ++ ) { scanf ( "%d" , & l ) ; m = ( int * * ) malloc ( sizeof ( int ) * l ) ; for ( row = 0 ; row < l ; row ++ ) m [ row ] = ( int * ) malloc ( sizeof ( int ) * ( row + 1 ) ) ; for ( row = 0 ; row < l ; row ++ ) { for ( col = 0 ; col <= row ; col ++ ) scanf ( "%d" , & m [ row ] [ col ] ) ; } max = - 1 ; for ( col = 0 ; col < l - 1 ; col ++ ) { sum = 0 ; for ( row = col ; row < l - 1 ; row ++ ) sum = sum + m [ row ] [ col ] ; temp = m [ row ] [ col ] > m [ row ] [ col + 1 ] ? m [ row ] [ col ] : m [ row ] [ col + 1 ] ; sum = sum + temp ; if ( sum > max ) max = sum ; } printf ( "%d\n" , max ) ; } return 0 ; }