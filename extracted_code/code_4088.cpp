int a [ 300 ] [ 300 ] , b [ 200 ] ; int fin ( ) { int x = 0 , c ; while ( ( c = getcx ) < '0' || c > '9' ) ; while ( c >= '0' && c <= '9' ) x = ( x << 3 ) + ( x << 1 ) + c - 48 , c = getcx ; return x ; } main ( ) { int T , n , c , s = 0 , i , j , k ; scanf ( "%d" , & T ) ; while ( T -- ) { scanf ( "%d" , & n ) ; for ( j = 0 ; j < n - 1 ; j ++ ) for ( i = 0 ; i < 2 * ( n - 1 ) ; ) { c = fin ( ) ; for ( k = 0 ; k < 2 * ( n - j - 1 ) ; k ++ , i ++ ) a [ i ] [ j ] = c ; } for ( k = 0 ; k < n ; k ++ ) b [ k ] = fin ( ) ; ; for ( k = 0 ; k <= n / 2 ; k ++ ) { a [ 2 * k ] [ j ] = b [ k ] ; if ( k > 0 ) a [ 2 * k - 1 ] [ j ] = b [ k ] ; } a [ 2 * k - 1 ] [ j ] = b [ k ] ; for ( ; k <= n ; k ++ ) { a [ 2 * k ] [ j ] = b [ k - 1 ] ; a [ 2 * k + 1 ] [ j ] = b [ k ] ; } c = 0 ; for ( i = 0 ; i < 2 * ( n - 1 ) ; i ++ , s = 0 ) { for ( j = 0 ; j < n ; j ++ ) s += a [ i ] [ j ] ; if ( s > c ) c = s ; } printf ( "%d\n" , c ) ; } return 0 ; }