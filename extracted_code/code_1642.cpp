int maxval ; void setmax ( int ) ; int getmax ( short int , short int ) ; int main ( ) { short int arr [ 99 ] [ 99 ] , element , maxarr [ 99 ] [ 99 ] ; int tc , gmax = 0 , smax = 0 ; unsigned short int i = 0 , j = 0 , no = 0 ; scanf ( "%d" , & tc ) ; while ( tc ) { maxval = 0 , gmax = 0 , smax = 0 ; memset ( arr , 0 , sizeof ( arr [ 0 ] [ 0 ] ) + 10000 ) ; memset ( maxarr , 0 , sizeof ( maxarr [ 0 ] [ 0 ] ) + 10000 ) ; scanf ( "%hd" , & no ) ; for ( i = 0 ; i <= no ; i ++ ) { for ( j = 0 ; j <= i ; j ++ ) { scanf ( "%hd" , & element ) ; arr [ i ] [ j ] = element ; if ( i == 0 ) { maxarr [ i ] [ j ] = gmax + arr [ i ] [ j ] ; continue ; } else { gmax = getmax ( maxarr [ i - 1 ] [ j - 1 ] , maxarr [ i - 1 ] [ j ] ) ; maxarr [ i ] [ j ] = gmax + arr [ i ] [ j ] ; setmax ( maxarr [ i ] [ j ] ) ; } } } printf ( "%d\n" , maxval ) ; tc -- ; } return 0 ; } int getmax ( short int x , short int y ) { int maxi = 0 ; if ( x > y ) maxi = x ; else maxi = y ; return maxi ; } void setmax ( int x ) { if ( x > maxval ) maxval = x ; }