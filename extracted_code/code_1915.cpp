int main ( ) { int n , x , y , no ; scanf ( "%d" , & n ) ; while ( n -- ) { scanf ( "%d" , & no ) ; int * * mat1 = ( int * * ) malloc ( no * sizeof ( int * ) ) ; int * * mat2 = ( int * * ) malloc ( no * sizeof ( int * ) ) ; for ( x = 0 ; x < no ; x ++ ) mat1 [ x ] = mat2 [ x ] = ( int * ) malloc ( no * sizeof ( int ) ) ; for ( x = 0 ; x < no ; x ++ ) for ( y = 0 ; y <= x ; y ++ ) scanf ( "%d" , & mat1 [ x ] [ y ] ) ; for ( x = 0 ; x < no ; x ++ ) mat2 [ no - 1 ] [ x ] = mat1 [ no - 1 ] [ x ] ; for ( x = no - 2 ; x >= 0 ; x -- ) { for ( y = 0 ; y <= x ; y ++ ) { mat2 [ x ] [ y ] = mat1 [ x ] [ y ] + ( mat2 [ x + 1 ] [ y ] > mat2 [ x + 1 ] [ y + 1 ] ? mat2 [ x + 1 ] [ y ] : mat2 [ x + 1 ] [ y + 1 ] ) ; } } printf ( "%d\n" , mat2 [ 0 ] [ 0 ] ) ; } return 0 ; }