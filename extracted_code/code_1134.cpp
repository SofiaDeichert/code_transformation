int main ( ) { int n , i , l , depth , add , seed , level , mummy , n1 , n2 , location ; scanf ( "%d" , & n ) ; for ( i = 0 ; i < n ; i ++ ) { scanf ( "%d" , & depth ) ; add = 0 ; scanf ( "%d" , & seed ) ; location = 1 ; add += seed ; for ( level = 2 ; level <= depth ; level ++ ) { for ( l = 0 ; l < location - 1 ; l ++ ) scanf ( "%d" , & mummy ) ; scanf ( "%d%d" , & n1 , & n2 ) ; if ( n2 > n1 ) { add += n2 ; location += 1 ; } else add += n1 ; } printf ( "%d\n" , add ) ; } return 0 ; }