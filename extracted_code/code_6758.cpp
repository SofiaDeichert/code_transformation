int main ( ) { int i , j , k , l , m , n , p , arr [ 250 ] ; scanf ( "%d" , & k ) ; for ( m = 0 ; m < k ; m ++ ) { l = 0 ; for ( i = 0 ; i < 250 ; i ++ ) arr [ i ] = 0 ; scanf ( "%d" , & n ) ; for ( i = 0 ; i < n ; i ++ ) { for ( j = 0 ; j <= i ; j ++ ) { scanf ( "%d" , & p ) ; arr [ ( i * ( i + 1 ) / 2 ) + j ] = arr [ ( i * ( i + 1 ) / 2 ) + j ] + p ; } arr [ ( ( i + 2 ) * ( i + 1 ) / 2 ) ] = arr [ ( i * ( i + 1 ) / 2 ) ] ; arr [ ( ( i + 2 ) * ( i + 1 ) / 2 ) + i + 1 ] = arr [ ( i * ( i + 1 ) / 2 ) + i ] ; if ( i > 0 ) { for ( j = 1 ; j <= i ; j ++ ) arr [ ( ( i + 2 ) * ( i + 1 ) / 2 ) + j ] = max ( arr [ ( i * ( i + 1 ) / 2 ) + j ] , arr [ ( i * ( i + 1 ) / 2 ) + j - 1 ] ) ; } } for ( i = ( ( n * ( n - 1 ) ) / 2 ) ; i < ( ( n * ( n - 1 ) ) / 2 ) + n ; i ++ ) { if ( l < arr [ i ] ) l = arr [ i ] ; } printf ( "%d\n" , l ) ; } return 0 ; } int max ( int a , int b ) { if ( a < b ) return b ; else return a ; }