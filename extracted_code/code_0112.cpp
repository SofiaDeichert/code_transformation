int main ( ) { int test , n , num , sum [ 100 ] = { 0 } , prev [ 100 ] = { 0 } , temp ; int max , k , i , j , l = 0 , tc , ans [ 1000 ] = { 0 } ; scanf ( "%d" , & test ) ; tc = test ; while ( test -- ) { scanf ( "%d" , & n ) ; for ( i = 0 ; i < n ; i ++ ) { for ( j = 0 ; j <= i ; j ++ ) { scanf ( "%d" , & num ) ; temp = prev [ j ] + num ; if ( temp > sum [ j ] ) sum [ j ] = temp ; if ( j > 0 ) { temp = prev [ j - 1 ] + num ; if ( temp > sum [ j ] ) sum [ j ] = temp ; } } for ( k = 0 ; k <= i ; k ++ ) { prev [ k ] = sum [ k ] ; } } max = sum [ 0 ] ; for ( k = 0 ; k < n ; k ++ ) { if ( max < sum [ k ] ) max = sum [ k ] ; } ans [ l ++ ] = max ; for ( k = 0 ; k < n ; k ++ ) { prev [ k ] = 0 ; sum [ k ] = 0 ; } } l = 0 ; while ( tc -- ) { printf ( "%d\n" , ans [ l ++ ] ) ; } return 0 ; }