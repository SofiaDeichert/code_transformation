int bigsum ( int l ) ; int max , lines = 0 , matrix [ 99 ] [ 99 ] = { 0 } ; int main ( void ) { int i , j , n ; scanf ( "%d" , & n ) ; while ( n -- ) { scanf ( "%d" , & lines ) ; for ( i = 0 ; i < lines ; i ++ ) for ( j = 0 ; j <= i ; j ++ ) scanf ( "%d" , & matrix [ i ] [ j ] ) ; max = bigsum ( lines ) ; printf ( "%d\n" , max ) ; } return 0 ; } int bigsum ( int l ) { int i , j , a , b ; for ( i = 1 ; i < l ; i ++ ) { for ( j = 0 ; j <= i ; j ++ ) { a = matrix [ i ] [ j ] + matrix [ i - 1 ] [ j - 1 ] ; b = matrix [ i - 1 ] [ j ] + matrix [ i ] [ j ] ; if ( j == 0 ) { matrix [ i ] [ j ] = b ; } else if ( j == i ) { matrix [ i ] [ j ] = a ; } else { matrix [ i ] [ j ] = a ; if ( matrix [ i ] [ j ] < a ) { matrix [ i ] [ j ] = b ; } } } } max = 0 ; i = l - 1 ; for ( j = 0 ; j <= i ; j ++ ) { if ( matrix [ i ] [ j ] > max ) max = matrix [ i ] [ j ] ; } return max ; }