int check ( ) { int i , j , max , n , posi , posj , sum = 0 , ii , jj , a [ 100 ] [ 100 ] ; scanf ( "%d" , & n ) ; for ( i = 0 ; i < n ; i ++ ) for ( j = 0 ; j < n ; j ++ ) a [ i ] [ j ] = 0 ; for ( i = 0 ; i < n ; i ++ ) for ( j = 0 ; j <= i ; j ++ ) scanf ( "%d" , & a [ i ] [ j ] ) ; for ( i = 0 ; i < n ; i ++ ) { for ( j = 0 ; j <= i ; j ++ ) printf ( "%d" , a [ i ] [ j ] ) ; printf ( "\n" ) ; } max = a [ 0 ] [ 0 ] ; posi = 0 ; posj = 0 ; for ( i = 0 ; i < n ; i ++ ) for ( j = 0 ; j <= i ; j ++ ) if ( a [ i ] [ j ] > max ) { max = a [ i ] [ j ] ; posi = i ; posj = j ; } sum += max ; ii = posi ; jj = posj ; while ( posi > 0 ) { if ( posj == 0 ) { sum += a [ posi - 1 ] [ posj ] ; posi = posi - 1 ; } else if ( a [ posi - 1 ] [ posj ] > a [ posi - 1 ] [ posj - 1 ] ) { sum += a [ posi - 1 ] [ posj ] ; posi = posi - 1 ; } else { sum += a [ posi - 1 ] [ posj - 1 ] ; posi = posi - 1 ; posj = posj - 1 ; } } posi = ii ; posj = jj ; while ( posi < n - 1 ) { if ( a [ posi + 1 ] [ posj ] > a [ posi + 1 ] [ posj + 1 ] ) { sum += a [ posi + 1 ] [ posj ] ; posi += 1 ; } else { sum += a [ posi + 1 ] [ posj + 1 ] ; posi += 1 ; posj += 1 ; } } return sum ; } main ( ) { int n , p , i ; scanf ( "%d" , & n ) ; for ( i = 0 ; i < n ; i ++ ) { p = check ( ) ; printf ( "%d\n" , p ) ; } }