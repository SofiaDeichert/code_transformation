int main ( ) { int t ; scanf ( "%d" , & t ) ; while ( t -- ) { int a [ 100 ] [ 100 ] = { 0 } ; int n , i = 0 , j = 0 ; scanf ( "%d" , & n ) ; while ( ( i + j ) <= 2 * ( n - 1 ) ) { for ( j = 0 ; j <= i ; j ++ ) { scanf ( "%d" , & a [ i ] [ j ] ) ; } i ++ ; } i = 1 , j = 0 ; int sum = a [ 0 ] [ 0 ] ; if ( n == 1 ) printf ( "%d\n" , sum ) ; else { while ( i < n - 1 ) { if ( ( ( a [ i ] [ j ] + a [ i + 1 ] [ j ] ) >= ( a [ i ] [ j + 1 ] + a [ i + 1 ] [ j + 1 ] ) ) && ( ( a [ i ] [ j ] + a [ i + 1 ] [ j ] ) >= ( a [ i ] [ j + 1 ] + a [ i + 1 ] [ j + 2 ] ) ) ) sum = sum + a [ i ] [ j ] ; else { sum = sum + a [ i ] [ j + 1 ] ; j = j + 1 ; } i ++ ; } } if ( n != 1 ) { if ( a [ i ] [ j ] > a [ i ] [ j + 1 ] ) sum = sum + a [ i ] [ j ] ; else sum = sum + a [ i ] [ j + 1 ] ; printf ( "%d\n" , sum ) ; } } return 0 ; }