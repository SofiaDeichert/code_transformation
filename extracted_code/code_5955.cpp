void scan_f ( int * a ) { char c = 0 ; while ( c < 33 ) c = getc ( stdin ) ; * a = 0 ; while ( c > 33 ) { ( * a ) = ( * a ) * 10 + c - '0' ; c = getc ( stdin ) ; } } int getmax ( int * a , int n ) { int i , max = a [ 0 ] ; for ( i = 0 ; i < n ; i ++ ) { if ( max < a [ i ] ) { max = a [ i ] ; } } return max ; } int maxsum ( int data [ 100 ] [ 100 ] , int n , int i , int j ) { if ( i == n - 1 ) { return data [ i ] [ j ] ; } else { int a [ 300 ] = { 0 } , k , flag = 1 , count = 0 ; for ( k = 0 ; k < 2 * ( i + 1 ) ; k ++ ) { if ( flag ) { a [ count ++ ] = maxsum ( data , n , i + 1 , j ) ; flag = 0 ; } else { a [ count ++ ] = maxsum ( data , n , i + 1 , j + 1 ) ; flag = 1 ; } } return getmax ( a , count - 1 ) + data [ i ] [ j ] ; } } int main ( ) { int t ; scan_f ( & t ) ; while ( t -- ) { int n , j , i , data [ 100 ] [ 100 ] = { { 0 } } ; scan_f ( & n ) ; for ( i = 0 ; i < n ; i ++ ) { for ( j = 0 ; j < i + 1 ; j ++ ) { scan_f ( & data [ i ] [ j ] ) ; } } printf ( "%d\n" , maxsum ( data , n , 0 , 0 ) ) ; } return 0 ; }