long int max ( long int a , long int b ) { if ( a > b ) return a ; else return b ; } long int solver ( ) { int rows , i , elems ; long int temp ; scanf ( "%d" , & rows ) ; elems = ( ( rows * ( rows + 1 ) ) / 2 ) ; long int values [ elems ] ; for ( i = 0 ; i < elems ; i ++ ) { scanf ( "%ld" , & temp ) ; values [ i ] = temp ; } long int solution [ rows - 1 ] ; for ( i = 0 ; i < rows - 1 ; i ++ ) solution [ i ] = 0 ; for ( rows -= 2 , elems -= 2 ; elems > 0 ; rows -- , elems -= 2 ) for ( i = rows ; i >= 0 ; i -- , elems -- ) solution [ i ] += max ( values [ elems ] , values [ elems + 1 ] ) ; return ( values [ 0 ] + max ( solution [ 0 ] , solution [ 1 ] ) ) ; } int main ( ) { int t , count ; scanf ( "%d" , & t ) ; for ( count = 1 ; count <= t ; count ++ ) printf ( "%ld\n" , solver ( ) ) ; return 0 ; }