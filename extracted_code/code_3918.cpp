main ( ) { int largest , totalTestCases , rows , firstNum , x , i , j , num ; scanf ( "%d" , & totalTestCases ) ; int result [ 2 ] [ 100 ] ; for ( x = 0 ; x < totalTestCases ; x ++ ) { scanf ( "%d" , & rows ) ; ; largest = 0 ; scanf ( "%d" , & firstNum ) ; if ( rows > 1 ) { for ( i = 0 ; i < 2 ; i ++ ) { scanf ( "%d" , & ( result [ 0 ] [ i ] ) ) ; largest = ( largest > result [ 0 ] [ i ] ? largest : result [ 0 ] [ i ] ) ; } result [ 0 ] [ 2 ] = 0 ; } for ( i = 2 ; i < rows ; i ++ ) { for ( j = 0 ; j <= i ; j ++ ) { result [ 1 ] [ j ] = ( j > 0 ? ( result [ 0 ] [ j ] > result [ 0 ] [ j - 1 ] ? result [ 0 ] [ j ] : result [ 0 ] [ j - 1 ] ) : result [ 0 ] [ j ] ) ; scanf ( "%d" , & num ) ; result [ 1 ] [ j ] += num ; if ( i == rows - 1 ) { largest = ( largest > result [ 1 ] [ j ] ? largest : result [ 1 ] [ j ] ) ; } else if ( j > 1 ) { result [ 0 ] [ j - 2 ] = result [ 1 ] [ j - 2 ] ; } } result [ 0 ] [ i - 1 ] = result [ 1 ] [ i - 1 ] ; result [ 0 ] [ i ] = result [ 1 ] [ i ] ; result [ 0 ] [ i + 1 ] = 0 ; } printf ( "%d\n" , ( largest + firstNum ) ) ; } }