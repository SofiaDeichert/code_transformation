typedef long long int ll ; ll solve1 ( int arr [ ] , int n ) { int i , j ; ll ans = 0 ; for ( i = 1 ; i <= n ; i ++ ) { for ( j = i ; j < n ; j ++ ) { if ( arr [ j ] <= arr [ j + 1 ] ) ans ++ ; else break ; } } return ( ans + n ) ; } ll solve2 ( int arr [ ] , int n ) { ll ans = 0 , x = 1 ; int i , j ; for ( i = 1 ; i <= n ; i ++ ) { int flag = 1 ; for ( j = i ; j <= n && flag ; j ++ ) { if ( arr [ j ] <= arr [ j + 1 ] ) x ++ ; else { ans += ( x * ( x + 1 ) ) / 2 ; i = j ; x = 1 ; flag = 0 ; } } } return ans ; } int main ( ) { int t ; scanf ( "%d" , & t ) ; while ( t -- ) { int n ; scanf ( "%d" , & n ) ; int arr [ 100001 ] ; int i ; for ( i = 1 ; i <= n ; i ++ ) scanf ( "%d" , & arr [ i ] ) ; if ( n <= 100 ) printf ( "%lld\n" , solve1 ( arr , n ) ) ; else printf ( "%lld\n" , solve2 ( arr , n ) ) ; } }