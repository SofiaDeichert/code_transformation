int main ( ) { int y , i , j , n , x , p , q , max ; int * * a ; scanf ( "%d" , & y ) ; for ( i = 0 ; i < y ; i ++ ) { scanf ( "%d" , & x ) ; a = ( int * * ) malloc ( x * sizeof ( int * ) ) ; for ( j = 0 ; j < x ; j ++ ) a [ j ] = ( int * ) malloc ( x * sizeof ( int ) ) ; for ( p = 0 ; p < x ; p ++ ) { for ( q = 0 ; q <= p ; q ++ ) scanf ( "%d" , & a [ p ] [ q ] ) ; for ( q = p + 1 ; q < x ; q ++ ) a [ p ] [ q ] = 0 ; } for ( q = 1 ; q < x ; q ++ ) a [ q ] [ 0 ] = a [ q ] [ 0 ] + a [ q - 1 ] [ 0 ] ; for ( p = 1 ; p < x ; p ++ ) { for ( q = 1 ; q < x ; q ++ ) { a [ p ] [ q ] = a [ p ] [ q ] + ( a [ p - 1 ] [ q ] > a [ p - 1 ] [ q - 1 ] ? a [ p - 1 ] [ q ] : a [ p - 1 ] [ q - 1 ] ) ; } } max = a [ x - 1 ] [ 0 ] ; for ( q = 1 ; q < x ; q ++ ) if ( max < a [ x - 1 ] [ q ] ) max = a [ x - 1 ] [ q ] ; printf ( "%d\n" , max ) ; free ( a ) ; } return 0 ; }