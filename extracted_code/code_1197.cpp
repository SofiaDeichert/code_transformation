int comparetor ( const void * a , const void * b ) { return ( * ( int * ) a - * ( int * ) b ) ; } int main ( ) { int loop = 0 , max_loop = 0 , g = 0 ; scanf ( "%d" , & loop ) ; int sum1 [ 200 ] ; int sum2 [ 200 ] ; int arr [ 110 ] [ 110 ] ; for ( g = 0 ; g < loop ; g ++ ) { int lines = 0 , i = 0 , j = 0 ; scanf ( "%d" , & lines ) ; for ( i = 0 ; i < lines ; i ++ ) { for ( j = 0 ; j <= i ; j ++ ) scanf ( "%d" , & arr [ i ] [ j ] ) ; } sum1 [ 0 ] = arr [ 0 ] [ 0 ] ; sum1 [ 1 ] = - 1 ; for ( i = 0 ; i < lines ; i ++ ) { int num ; if ( i == lines - 1 ) { qsort ( sum1 , 200 , sizeof ( int ) , comparetor ) ; printf ( "%d\n" , sum1 [ 199 ] ) ; } else { int count = 0 , cum = 0 ; while ( sum1 [ cum ] != - 1 ) { if ( i >= 2 && cum > i ) { sum2 [ count ] = sum1 [ cum ] + arr [ i + 1 ] [ i + 1 ] ; count ++ ; } else { sum2 [ count ] = sum1 [ cum ] + arr [ i + 1 ] [ cum ] ; sum2 [ count + 1 ] = sum1 [ cum ] + arr [ i + 1 ] [ cum + 1 ] ; count = count + 2 ; } cum ++ ; } num = count ; } int l = 0 ; for ( l = 0 ; l < num ; l ++ ) sum1 [ l ] = sum2 [ l ] ; sum1 [ l ] = - 1 ; for ( l = 0 ; l < num ; l ++ ) sum2 [ l ] = 0 ; } } return 0 ; }