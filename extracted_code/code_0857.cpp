int A [ 100 ] [ 100 ] ; int memo [ 100 ] [ 100 ] ; int sum ( int n , int i , int j ) { int s ; if ( i == n ) s = A [ i ] [ j ] ; else if ( memo [ i ] [ j ] >= 0 ) s = memo [ i ] [ j ] ; else { if ( sum ( n , i + 1 , j ) >= sum ( n , i + 1 , j + 1 ) ) s = sum ( n , i + 1 , j ) + A [ i ] [ j ] ; else s = sum ( n , i + 1 , j + 1 ) + A [ i ] [ j ] ; memo [ i ] [ j ] = s ; } return s ; } int main ( ) { int t , k , x , y , n ; scanf ( "%d" , & t ) ; for ( k = 0 ; k < t ; k ++ ) { scanf ( "%d" , & n ) ; for ( x = 0 ; x < n ; x ++ ) { for ( y = 0 ; y <= x ; y ++ ) { if ( x >= y ) scanf ( "%d" , & A [ x ] [ y ] ) ; } } int c , d ; for ( c = 0 ; c < 100 ; c ++ ) { for ( d = 0 ; d <= c ; d ++ ) { memo [ c ] [ d ] = - 1 ; } } printf ( "%d\n" , sum ( n , 0 , 0 ) ) ; } return 0 ; }