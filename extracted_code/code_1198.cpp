int main ( ) { unsigned short * a , n , t , m , p , q , k , s , i , j ; scanf ( "%hu" , & t ) ; while ( t -- ) { scanf ( "%hu" , & n ) ; unsigned short s = n * ( n + 1 ) / 2 ; a = ( short * ) malloc ( s * sizeof ( short ) ) ; for ( i = 0 ; i < s ; ++ i ) scanf ( "%hu" , & a [ i ] ) ; for ( i = 0 ; i < s ; ++ i ) { printf ( "%hu " , a [ i ] ) ; } printf ( "\n" ) ; for ( i = n - 1 ; i > 0 ; -- i ) { m = i * ( i - 1 ) / 2 ; printf ( "i=%d\n" , i ) ; for ( k = 0 ; k < s ; ++ k ) printf ( "%hu " , a [ k ] ) ; printf ( "\n" ) ; for ( j = 0 ; j < i ; ++ j ) { p = a [ m + j ] + a [ m + i + j ] ; q = a [ m + j ] + a [ m + i + j + 1 ] ; if ( p > q ) a [ m + j ] = p ; else a [ m + j ] = q ; printf ( "here2\n" ) ; for ( k = 0 ; k < s ; ++ k ) printf ( "%hu " , a [ k ] ) ; printf ( "\n" ) ; } } for ( i = 0 ; i < m ; ++ i ) printf ( "%hu " , a [ i ] ) ; printf ( "%hu\n" , a [ 0 ] ) ; free ( a ) ; } return 0 ; }