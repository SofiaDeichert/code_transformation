int m , i , j , k , l , t , n , * p , * q , s , b [ 9999 ] ; int z ( int a , int b ) { return a > b ? a : b ; } void f ( ) { p ++ , i ++ , k ++ ; if ( k == j ) k = 0 , j ++ , p -- ; q = p - 1 ; } int main ( ) { scanf ( "%d" , & m ) ; while ( m -- ) { scanf ( "%d" , & n ) ; for ( i = k = l = 0 , j = 1 , p = b ; i < ( n * n + n ) / 2 ; f ( ) ) { t = scanf ( "%d" , & s ) ; l = z ( l , ( b [ i ] = s + ( ( 0 < i ) ? ( ( 0 < k ) ? ( ( k < j - 1 ) ? z ( * p , * q ) : * q ) : * p ) : 0 ) ) ) ; } printf ( "%d\n" , l ) ; } }