int inp [ 5051 ] , out [ 100 ] ; char str [ BUFF ] ; int largR ( int N ) { int i , j , a , b ; for ( i = N - 1 ; i >= 1 ; i -- ) { a = ( i - 1 ) * i / 2 ; b = ( i + 1 ) * i / 2 ; for ( j = 1 ; j <= i ; j ++ ) inp [ a + j ] += inp [ b + j ] > inp [ b + j + 1 ] ? inp [ b + j ] : inp [ b + j + 1 ] ; } return inp [ 1 ] ; } int main ( ) { int T , i , row , incount ; int N , Ma , num , k ; char cha ; scanf ( "%d" , & T ) ; while ( cha = fgetc ( stdin ) ) { if ( cha == '\n' ) break ; } N = Ma = row = 0 ; while ( ( incount = fread ( str , 1 , BUFF , stdin ) ) > 0 ) { for ( i = 0 ; i < incount ; i ++ ) { if ( str [ i ] >= '0' && str [ i ] <= '9' ) { for ( num = 0 ; str [ i ] >= '0' && str [ i ] <= '9' ; i ++ ) { num = num * 10 + str [ i ] - '0' ; } i -- ; if ( ! Ma ) { N = num ; Ma = N * ( N + 1 ) / 2 ; k = 1 ; } else { inp [ k ++ ] = num ; if ( k == Ma ) { out [ row ++ ] = largR ( N ) ; Ma = 0 ; } } } } } for ( i = 0 ; i < row ; i ++ ) printf ( "%d\n" , out [ i ] ) ; return 0 ; }