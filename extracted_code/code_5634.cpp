int a [ 1000 ] [ 1000 ] ; int b [ 1000 ] [ 1000 ] = { 0 } ; int max ( int a , int b ) { if ( a > b ) { return a ; } return b ; } int sum ( int i , int j , int n ) { if ( b [ i ] [ j ] != 0 ) { return b [ i ] [ j ] ; } if ( i == n - 1 ) { return a [ i ] [ j ] ; } else { b [ i ] [ j ] = a [ i ] [ j ] + max ( sum ( i + 1 , j , n ) , sum ( i + 1 , j + 1 , n ) ) ; return a [ i ] [ j ] + max ( sum ( i + 1 , j , n ) , sum ( i + 1 , j + 1 , n ) ) ; } } int main ( ) { int t ; scanf ( "%d" , & t ) ; while ( t -- ) { int n ; scanf ( "%d" , & n ) ; int i = 0 , j ; while ( i < n ) { j = 0 ; while ( j <= i ) { scanf ( "%d" , & a [ i ] [ j ] ) ; j += 1 ; } i += 1 ; } int ans = sum ( 0 , 0 , n ) ; printf ( "%d\n" , ans ) ; } return 0 ; }