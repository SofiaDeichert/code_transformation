int main ( ) { int testcases , rows , i , j , * current_row , a [ 100 ] , * previous_row , b [ 100 ] , max_sum ; current_row = a ; previous_row = b ; scanf ( "%d" , & testcases ) ; while ( testcases -- ) { scanf ( "%d" , & rows ) ; previous_row [ 0 ] = 0 ; for ( i = 0 ; i < rows ; i ++ ) { for ( j = 0 ; j <= i ; j ++ ) { scanf ( "%d" , & current_row [ j ] ) ; if ( j == 0 ) { current_row [ j ] = current_row [ j ] + previous_row [ j ] ; } else if ( j == i ) { current_row [ j ] = current_row [ j ] + previous_row [ j - 1 ] ; } else { current_row [ j ] = current_row [ j ] + ( previous_row [ j ] > previous_row [ j - 1 ] ? previous_row [ j ] : previous_row [ j - 1 ] ) ; } } if ( current_row == a ) { current_row = b ; previous_row = a ; } else { current_row = a ; previous_row = b ; } } max_sum = previous_row [ 0 ] ; for ( i = 1 ; i < rows ; i ++ ) { if ( max_sum < previous_row [ i ] ) { max_sum = previous_row [ i ] ; } } printf ( "%d\n" , max_sum ) ; } return 0 ; }