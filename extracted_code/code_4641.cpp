void longest_path ( ) { int n , a [ 100 ] , i , j , k , l , max ; scanf ( "%d" , & n ) ; scanf ( "%d" , & a [ 0 ] ) ; for ( l = 1 ; l < n ; l ++ ) { int l = i ; for ( k = 0 ; k <= l ; k ++ ) { scanf ( "%d" , & a [ i ] ) ; for ( j = 0 ; j < i ; j ++ ) { if ( j == k || j == ( k - 1 ) ) if ( ( a [ i ] + a [ j ] ) > a [ i ] ) a [ i ] += a [ j ] ; } i ++ ; } for ( j = l ; j < i ; j ++ ) { a [ j - l ] = a [ j ] ; a [ j ] = 0 ; } } max = a [ 0 ] ; for ( i = 1 ; i < l ; i ++ ) if ( max < a [ i ] ) max = a [ i ] ; printf ( "%d" , max ) ; } void main ( ) { int t , i ; scanf ( "%d" , & t ) ; for ( i = 0 ; i < t ; i ++ ) longest_path ( ) ; }