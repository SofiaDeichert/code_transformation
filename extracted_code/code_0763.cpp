long op [ 1000 ] ; int ip [ 100 ] [ 100 ] ; int main ( ) { int T , n , i , j , k , a ; long sum = 0 , temp_sum = 0 ; scanf ( "%d" , & T ) ; for ( k = 0 ; k < T ; k ++ ) { scanf ( "%d" , & n ) ; sum = 0 ; for ( i = 0 ; i < n ; i ++ ) for ( j = 0 ; j <= i ; j ++ ) scanf ( "%d" , & ip [ i ] [ j ] ) ; for ( i = 0 ; i < n ; i ++ ) sum = sum + ip [ i ] [ 0 ] ; temp_sum = sum ; for ( j = 0 , a = 1 ; j < n - 1 , a < n ; j ++ , a ++ ) for ( i = n - 1 ; i > a ; i -- ) { temp_sum = temp_sum - ip [ i ] [ j ] ; temp_sum = temp_sum + ip [ i ] [ j + 1 ] ; if ( sum < temp_sum ) sum = temp_sum ; } op [ k ] = sum ; } for ( i = 0 ; i < T ; i ++ ) printf ( "%ld\n" , op [ i ] ) ; return 0 ; }