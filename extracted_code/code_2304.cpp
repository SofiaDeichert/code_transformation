int main ( ) { int cases , triangle ; int i = 0 , j , k , temp , old_k_1 , old_k_temp , max_value ; scanf ( "%d" , & cases ) ; for ( ; i < cases ; i ++ ) { scanf ( "%d" , & triangle ) ; int * sum_array = ( int * ) calloc ( triangle , sizeof ( int ) ) ; for ( j = 1 ; j <= triangle ; j ++ ) { scanf ( "%d" , & temp ) ; old_k_1 = sum_array [ 0 ] ; sum_array [ 0 ] = sum_array [ 0 ] + temp ; for ( k = 1 ; k < j ; k ++ ) { scanf ( "%d" , & temp ) ; if ( sum_array [ k ] > old_k_1 ) { old_k_1 = sum_array [ k ] ; sum_array [ k ] += temp ; } else { old_k_temp = sum_array [ k ] ; sum_array [ k ] = old_k_1 + temp ; old_k_1 = old_k_temp ; } } } max_value = sum_array [ 0 ] ; for ( j = 1 ; j < triangle ; j ++ ) { if ( sum_array [ j ] > max_value ) max_value = sum_array [ j ] ; } printf ( "%d\n" , max_value ) ; free ( sum_array ) ; } return 0 ; }