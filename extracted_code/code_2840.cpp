int lines = 1 ; int getMaxSum ( int b [ lines ] [ lines ] , int c [ lines ] [ lines ] , int i , int j ) { int t1 , t2 , t ; if ( i >= lines ) { i = 0 ; j = 0 ; return 0 ; } if ( b [ i ] [ j ] == - 1 ) { return c [ i ] [ j ] ; } t1 = getMaxSum ( b , c , i + 1 , j ) ; t2 = getMaxSum ( b , c , i + 1 , j + 1 ) ; t = max ( t1 , t2 ) + b [ i ] [ j ] ; b [ i ] [ j ] = - 1 ; c [ i ] [ j ] = t ; return t ; } int main ( ) { int len , i , ch , x , l , item , count = 0 ; scanf ( "%d" , & count ) ; while ( count > 0 ) { i = 0 ; l = 0 ; item = 0 ; scanf ( "%d" , & lines ) ; len = ( ( ( lines ) * ( lines + 1 ) ) / 2 ) ; int b [ lines ] [ lines ] ; int c [ lines ] [ lines ] ; while ( len > 0 ) { while ( ( ( ch = getc ( stdin ) ) != EOF ) && ( ch == ' ' ) ) ; if ( ch == EOF ) break ; ungetc ( ch , stdin ) ; if ( scanf ( "%d" , & x ) != 1 ) break ; if ( item == ( ( l + 1 ) * ( l + 2 ) ) / 2 ) { l ++ ; i = 0 ; } b [ l ] [ i ++ ] = x ; item ++ ; len -- ; } printf ( "%d\n" , getMaxSum ( b , c , 0 , 0 ) ) ; count -- ; } return 0 ; }