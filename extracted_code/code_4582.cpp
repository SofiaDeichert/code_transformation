void rec ( int , int ) ; int a [ 100 ] [ 100 ] = { 0 , 0 } , look [ 100 ] [ 100 ] = { 0 , 0 } , save = 0 ; int main ( ) { int i , l , t , j , cases , ccnt ; scanf ( "%d" , & cases ) ; for ( ccnt = 0 ; ccnt < cases ; ccnt ++ ) { scanf ( "%d" , & l ) ; getchar ( ) ; for ( i = 0 ; i < l ; i ++ ) for ( t = 0 ; t <= i ; t ++ ) { a [ i ] [ t ] = getchar ( ) - '0' ; getchar ( ) ; look [ i ] [ t ] = 0 ; } for ( j = 0 ; j <= l ; j ++ ) a [ i ] [ j ] = 0 ; rec ( 0 , 0 ) ; printf ( "%d\n" , save ) ; save = 0 ; } return 0 ; } void rec ( int i , int j ) { static int sum = 0 ; if ( look [ i ] [ j ] != 0 ) { sum = sum + look [ i ] [ j ] ; if ( sum > save ) save = sum ; sum -= look [ i ] [ j ] ; } else { sum = sum + a [ i ] [ j ] ; if ( a [ i + 1 ] [ j ] != 0 ) { rec ( i + 1 , j ) ; rec ( i + 1 , j + 1 ) ; sum -= a [ i ] [ j ] ; look [ i ] [ j ] = save ; } else { if ( sum > save ) save = sum ; sum -= a [ i ] [ j ] ; } } }