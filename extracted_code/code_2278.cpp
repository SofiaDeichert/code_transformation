void main ( ) { int noTestCases , i , j , k , catchBuff , temp ; scanf ( "%d" , & noTestCases ) ; int arr [ noTestCases ] ; int maxBuff [ noTestCases ] ; for ( i = 0 ; i < noTestCases ; i ++ ) { scanf ( "%d" , & arr [ i ] ) ; catchBuff = arr [ i ] + 1 ; int buff [ catchBuff ] [ catchBuff ] ; maxBuff [ i ] = 0 ; for ( j = 0 ; j < catchBuff ; j ++ ) { for ( k = 0 ; k < catchBuff ; k ++ ) { buff [ j ] [ k ] = 0 ; } } for ( j = 1 ; j < catchBuff ; j ++ ) { for ( k = 1 ; k <= j ; k ++ ) { scanf ( "%d" , & buff [ j ] [ k ] ) ; temp = buff [ j ] [ k ] ; buff [ j ] [ k ] = max ( ( temp + buff [ j - 1 ] [ k - 1 ] ) , ( temp + buff [ j - 1 ] [ k ] ) ) ; if ( buff [ j ] [ k ] > maxBuff [ i ] ) maxBuff [ i ] = buff [ j ] [ k ] ; } } for ( j = 0 ; j < arr [ i ] + 1 ; j ++ ) { free ( buff [ j ] ) ; } free ( buff ) ; } for ( i = 0 ; i < noTestCases ; i ++ ) { printf ( "%d\n" , maxBuff [ i ] ) ; } return ; }