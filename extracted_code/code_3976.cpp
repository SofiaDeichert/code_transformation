int main ( ) { int a [ 100 ] [ 100 ] = { 0 } , c [ 100 ] [ 100 ] = { 0 } , i , j , t ; int sum = 0 , n , k , max ; scanf ( "%d" , & t ) ; for ( i = 1 ; i <= t ; i ++ ) { scanf ( "%ld" , & n ) ; sum = 0 ; for ( j = 0 ; j < n ; j ++ ) { for ( k = 0 ; k < j + 1 ; k ++ ) { scanf ( "%ld" , & a [ j ] [ k ] ) ; } } for ( j = 0 ; j < n ; j ++ ) { sum += a [ 0 ] [ j ] ; c [ 0 ] [ j ] = sum ; } sum = 0 ; c [ 0 ] [ 0 ] = a [ 0 ] [ 0 ] ; sum = a [ 0 ] [ 0 ] ; for ( j = 0 ; j < n ; j ++ ) { for ( k = 0 ; k < j + 1 ; k ++ ) { if ( j == 0 && k == 0 ) continue ; if ( j == k ) { c [ j ] [ k ] = a [ j ] [ j ] + c [ j - 1 ] [ j - 1 ] ; } else if ( k == 0 ) c [ j ] [ k ] = c [ j - 1 ] [ k ] + a [ j ] [ k ] ; else if ( c [ j - 1 ] [ k ] > c [ j - 1 ] [ k - 1 ] ) { c [ j ] [ k ] = c [ j - 1 ] [ k ] + a [ j ] [ k ] ; } else c [ j ] [ k ] = c [ j - 1 ] [ k - 1 ] + a [ j ] [ k ] ; } } sum = c [ n - 1 ] [ 0 ] ; for ( j = 0 ; j < n ; j ++ ) { if ( c [ n - 1 ] [ j ] > max ) max = c [ n - 1 ] [ j ] ; } printf ( "%d\n" , max ) ; } return 0 ; }